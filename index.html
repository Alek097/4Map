<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link href="Style.css" rel="stylesheet" />
</head>
<body>
    <div id="mapContainer">
        <div id="firstMap" class="map">
            <iframe src="cvm//viewer//index.html"></iframe>
        </div>
        <div id="secondMap" class="map">
            <iframe src="cvm//viewer//index.html"></iframe>
        </div>
        <div id="thirdMap" class="map">
            <iframe src="cvm//viewer//index.html"></iframe>
        </div>
        <div id="fourthMap" class="map">
            <iframe src="cvm//viewer//index.html"></iframe>
        </div>
    </div>

    <script>
        var firstMap = null;
        var secondMap = null;
        var thirdMap = null;
        var fourthMap = null;

        document.addEventListener("DOMContentLoaded", function () {
            firstMap = document.getElementById('firstMap').getElementsByTagName('iframe')[0].contentWindow;
            secondMap = document.getElementById('secondMap').getElementsByTagName('iframe')[0].contentWindow;
            thirdMap = document.getElementById('thirdMap').getElementsByTagName('iframe')[0].contentWindow;
            fourthMap = document.getElementById('fourthMap').getElementsByTagName('iframe')[0].contentWindow;

            firstMap.onMapChange = function (value, centerPoint) {
                if (secondMap.map.getScale() !== value) {
                    secondMap.setScale(value);
                }

                if (thirdMap.map.getScale() !== value) {
                    thirdMap.setScale(value);
                }

                if (fourthMap.map.getScale() !== value) {
                    fourthMap.setScale(value);
                }

                var center = secondMap.map.extent.getCenter();
                if (center.x != centerPoint.x && center.y != centerPoint.y) {
                    secondMap.map.centerAt(centerPoint);
                }

                center = thirdMap.map.extent.getCenter();
                if (center.x != centerPoint.x && center.y != centerPoint.y) {
                    thirdMap.map.centerAt(centerPoint);
                }

                center = fourthMap.map.extent.getCenter();
                if (center.x != centerPoint.x && center.y != centerPoint.y) {
                    fourthMap.map.centerAt(centerPoint);
                }
            };

            secondMap.onMapChange = function (value, centerPoint) {
                if (firstMap.map.getScale() !== value) {
                    firstMap.setScale(value);
                }

                if (thirdMap.map.getScale() !== value) {
                    thirdMap.setScale(value);
                }

                if (fourthMap.map.getScale() !== value) {
                    fourthMap.setScale(value);
                }

                var center = firstMap.map.extent.getCenter();
                if (center.x != centerPoint.x && center.y != centerPoint.y) {
                    firstMap.map.centerAt(centerPoint);
                }

                center = thirdMap.map.extent.getCenter();
                if (center.x != centerPoint.x && center.y != centerPoint.y) {
                    thirdMap.map.centerAt(centerPoint);
                }

                center = fourthMap.map.extent.getCenter();
                if (center.x != centerPoint.x && center.y != centerPoint.y) {
                    fourthMap.map.centerAt(centerPoint);
                }
            };

            thirdMap.onMapChange = function (value, centerPoint) {
                if (firstMap.map.getScale() !== value) {
                    firstMap.setScale(value);
                }

                if (secondMap.map.getScale() !== value) {
                    secondMap.setScale(value);
                }

                if (fourthMap.map.getScale() !== value) {
                    fourthMap.setScale(value);
                }
            };

            fourthMap.onMapChange = function (value, centerPoint) {
                if (firstMap.map.getScale() !== value) {
                    firstMap.setScale(value);
                }

                if (secondMap.map.getScale() !== value) {
                    secondMap.setScale(value);
                }

                if (thirdMap.map.getScale() !== value) {
                    thirdMap.setScale(value);
                }
            };
        });
    </script>
</body>
</html>